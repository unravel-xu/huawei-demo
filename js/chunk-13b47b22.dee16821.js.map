{"version":3,"sources":["webpack:///./src/views/Home.vue?1454","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?cde4","webpack:///./src/icon/huawei_logo.png"],"names":["src","alt","width","height","class","style","logout","isCollapse","toggleCollapse","default-active","background-color","text-color","active-text-color","unique-opened","collapse","collapse-transition","router","index","title","ref","action","on-preview","handlePreview","on-remove","handleRemove","file-list","fileList","auto-upload","http-request","sqlUpload","trigger","size","type","tip","submitUpload","model","ruleForm","status-icon","rules","label-width","label","prop","num","autocomplete","weight","submitForm","name","data","checkNum","rule","value","callback","Error","checkWeight","isCollap","username","localStorage","getItem","validator","methods","params","console","log","FormData","append","file","this","axios","post","then","res","$message","message","duration","catch","error","formName","$refs","validate","valid","method","url","form","$data","response","upload","submit","window","sessionStorage","clear","$router","push","__exports__","render","module","exports"],"mappings":"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","file":"js/chunk-13b47b22.dee16821.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=8890e5fe&scoped=true&lang=css\"","<template>\r\n  <el-container class=\"home-container\">\r\n    <el-header>\r\n      <div>\r\n        <img src=\"../icon/huawei_logo.png\" alt=\"\" width=\"180\" height=\"40\" />\r\n        <span></span>\r\n      </div>\r\n      <el-button @click=\"logout\">Logout</el-button>\r\n    </el-header>\r\n    <el-container>\r\n      <el-aside\r\n        :width=\"isCollapse ? '65px' : '200px'\"\r\n        style=\"background-color: #545c64\"\r\n      >\r\n        <div class=\"toggle-button\" @click=\"toggleCollapse\">|||</div>\r\n        <el-menu\r\n          default-active=\"2\"\r\n          background-color=\"#545c64\"\r\n          text-color=\"#fff\"\r\n          active-text-color=\"#ffd04b\"\r\n          unique-opened\r\n          :collapse=\"isCollapse\"\r\n          :collapse-transition=\"false\"\r\n          :router=\"true\"\r\n        >\r\n          <el-menu-item index=\"upload\">\r\n            <template v-slot:title>\r\n              <i class=\"el-icon-upload\"></i>\r\n              <span>Upload Data</span>\r\n            </template>\r\n          </el-menu-item>\r\n\r\n          <el-menu-item index=\"collection\">\r\n            <i class=\"el-icon-collection\"></i>\r\n            <span style=\"color: #000000\">Data Collection</span>\r\n          </el-menu-item>\r\n\r\n          <el-menu-item index=\"index\">\r\n            <i class=\"el-icon-document-checked\"></i>\r\n            <span style=\"color: #000000\">Data Index</span>\r\n          </el-menu-item>\r\n\r\n          <el-menu-item index=\"InDbML\">\r\n            <i class=\"el-icon-document\"></i>\r\n            <span style=\"color: #000000\">In-DB ML</span>\r\n          </el-menu-item>\r\n        </el-menu>\r\n      </el-aside>\r\n      <el-main>\r\n        <div>\r\n          <div>\r\n            <el-upload\r\n              class=\"upload-demo\"\r\n              ref=\"upload\"\r\n              action=\"#\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :file-list=\"fileList\"\r\n              :auto-upload=\"false\"\r\n              :http-request=\"sqlUpload\"\r\n            >\r\n              <template v-slot:trigger>\r\n                <el-button size=\"small\" type=\"primary\"> 选取文件</el-button>\r\n              </template>\r\n              <el-button\r\n                style=\"margin-left: 10px\"\r\n                size=\"small\"\r\n                type=\"info\"\r\n                @click=\"submitUpload\"\r\n              >\r\n                上传到服务器\r\n              </el-button>\r\n              <template v-slot:tip>\r\n                <div class=\"el-upload__tip\">\r\n                  上传（自定义格式）文件，且不超过（自定义大小）\r\n                </div>\r\n              </template>\r\n            </el-upload>\r\n          </div>\r\n          <div>\r\n            <el-form\r\n              :model=\"ruleForm\"\r\n              status-icon\r\n              :rules=\"rules\"\r\n              ref=\"ruleForm\"\r\n              label-width=\"100px\"\r\n              class=\"demo-ruleForm\"\r\n            >\r\n              <el-form-item label=\"分区数\" prop=\"num\">\r\n                <el-input\r\n                  type=\"password\"\r\n                  v-model=\"ruleForm.num\"\r\n                  autocomplete=\"off\"\r\n                  style=\"width: 30%\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"加权因子\" prop=\"weight\">\r\n                <el-input\r\n                  type=\"password\"\r\n                  v-model=\"ruleForm.weight\"\r\n                  autocomplete=\"off\"\r\n                  style=\"width: 30%\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">\r\n                  提交\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </div>\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Home',\r\n  data () {\r\n    let checkNum = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error('分区数不能为空'))\r\n      }\r\n      callback()\r\n    }\r\n\r\n    let checkWeight = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error('权重因子不能为空'))\r\n      }\r\n      // 执行成功也需要回调\r\n      callback()\r\n    }\r\n\r\n    return {\r\n      isCollap: false,\r\n      username: localStorage.getItem('username'),\r\n      fileList: [\r\n        // {\r\n        //   name: 'food.jpeg',\r\n        //   url:\r\n        //     'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100',\r\n        // },\r\n        // {\r\n        //   name: 'food2.jpeg',\r\n        //   url:\r\n        //     'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100',\r\n        // },\r\n      ],\r\n      ruleForm: {\r\n        num: '',\r\n        weight: '',\r\n      },\r\n      rules: {\r\n        num: [{ validator: checkNum, trigger: 'blur' }],\r\n        weight: [{ validator: checkWeight, trigger: 'blur' }],\r\n      },\r\n    }\r\n  },\r\n  // mounted: {\r\n  // },\r\n  methods: {\r\n    sqlUpload (params) {\r\n      console.log(params)\r\n      let data = new FormData()\r\n      data.append('file', params.file)\r\n      this.axios.post('http://114.115.156.203:5000/api/files', data)\r\n        .then(res => {\r\n          // this.textarea = JSON.parse(res.request.responseText).content\r\n          this.$message({\r\n            message: '上传成功',\r\n            type: 'success',\r\n            duration: 1000,\r\n          })\r\n        })\r\n        .catch((error) => console.log(error, 'error'))\r\n    },\r\n\r\n    submitForm (formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          // console.log(this.$data.ruleForm)\r\n          this.axios({\r\n            method: 'post',\r\n            url: 'http://114.115.156.203:5000/api/partition',\r\n            data: {\r\n              form: this.$data.ruleForm,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              this.$message({\r\n                message: '上传成功',\r\n                type: 'success',\r\n                duration: 1000,\r\n              })\r\n              console.log(response, 'success')\r\n            })\r\n            .catch((error) => console.log(error, 'error'))\r\n        } else {\r\n          console.log('failed submit!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n\r\n    submitUpload (response) {\r\n      this.$refs.upload.submit()\r\n      console.log(response)\r\n    },\r\n\r\n    handleRemove (file, fileList) {\r\n      console.log(file, fileList)\r\n    },\r\n\r\n    handlePreview (file) {\r\n      console.log(file)\r\n    },\r\n\r\n    logout () {\r\n      window.sessionStorage.clear()\r\n      this.$router.push('/')\r\n    },\r\n\r\n    toggleCollapse () {\r\n      debugger\r\n      this.isCollapse = !this.isCollapse\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.home-container {\r\n  height: 100vh;\r\n}\r\n\r\n.el-header {\r\n  background-color: #373d41;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-left: 0;\r\n  align-items: center;\r\n  color: #fff;\r\n  font-size: 20px;\r\n\r\n  > div {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    span {\r\n      margin-left: 15px;\r\n    }\r\n  }\r\n}\r\n\r\n.el-aside {\r\n  background-color: #333744;\r\n}\r\n\r\n.el-main {\r\n  background-color: #eaedf1;\r\n}\r\n\r\n.toggle-button {\r\n  background-color: #4a5064;\r\n  font-size: 10px;\r\n  line-height: 24px;\r\n  color: #fff;\r\n  text-align: center;\r\n  letter-spacing: 0.2em;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./Home.vue?vue&type=template&id=8890e5fe&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=8890e5fe&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\vueProjects\\\\front_practice\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8890e5fe\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/huawei_logo.31e59814.png\";"],"sourceRoot":""}